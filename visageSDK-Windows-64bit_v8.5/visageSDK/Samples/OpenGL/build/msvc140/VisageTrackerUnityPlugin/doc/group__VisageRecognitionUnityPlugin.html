<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VisageTrackerUnityPlugin: VisageRecognitionUnityPlugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VisageTrackerUnityPlugin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">VisageRecognitionUnityPlugin</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides high-level functions for using visage|SDK face recognition capabilities in Unity game engine.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga32dd0502a16f7451e333f44af31f194c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#ga32dd0502a16f7451e333f44af31f194c">_initRecognition</a> (string dataPath)</td></tr>
<tr class="memdesc:ga32dd0502a16f7451e333f44af31f194c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises VisageFaceRecognition.  <a href="#ga32dd0502a16f7451e333f44af31f194c">More...</a><br /></td></tr>
<tr class="separator:ga32dd0502a16f7451e333f44af31f194c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fb7cd5e0cede3b7acca7b401b089f54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#ga7fb7cd5e0cede3b7acca7b401b089f54">_releaseRecognition</a> ()</td></tr>
<tr class="memdesc:ga7fb7cd5e0cede3b7acca7b401b089f54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases memory allocated by the face recogntion in the <a class="el" href="group__VisageRecognitionUnityPlugin.html#ga32dd0502a16f7451e333f44af31f194c" title="Initialises VisageFaceRecognition. ">_initRecognition()</a> function.  <a href="#ga7fb7cd5e0cede3b7acca7b401b089f54">More...</a><br /></td></tr>
<tr class="separator:ga7fb7cd5e0cede3b7acca7b401b089f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5e3cc9463314ca0aa31abd6f41d5dfc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#gad5e3cc9463314ca0aa31abd6f41d5dfc">_getDescriptorSize</a> ()</td></tr>
<tr class="memdesc:gad5e3cc9463314ca0aa31abd6f41d5dfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of descriptor.  <a href="#gad5e3cc9463314ca0aa31abd6f41d5dfc">More...</a><br /></td></tr>
<tr class="separator:gad5e3cc9463314ca0aa31abd6f41d5dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3faebf55f59995b0402e6f10e4fba686"><td class="memItemLeft" align="right" valign="top"><a id="ga3faebf55f59995b0402e6f10e4fba686"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#ga3faebf55f59995b0402e6f10e4fba686">_prepareDataForRecog</a> ()</td></tr>
<tr class="memdesc:ga3faebf55f59995b0402e6f10e4fba686"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts the face descriptor for face recognition. <br /></td></tr>
<tr class="separator:ga3faebf55f59995b0402e6f10e4fba686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacca71e8f649e67b88a5ae69b51fabf95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#gacca71e8f649e67b88a5ae69b51fabf95">_extractDescriptor</a> (short[] descriptor, int faceIndex)</td></tr>
<tr class="memdesc:gacca71e8f649e67b88a5ae69b51fabf95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts the face descriptor for face recognition.  <a href="#gacca71e8f649e67b88a5ae69b51fabf95">More...</a><br /></td></tr>
<tr class="separator:gacca71e8f649e67b88a5ae69b51fabf95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9da63352fdae796f1ab344741d5ce68b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#ga9da63352fdae796f1ab344741d5ce68b">_descriptorsSimilarity</a> (short[] firstDescrtiptor, short[] secondDescriptor)</td></tr>
<tr class="memdesc:ga9da63352fdae796f1ab344741d5ce68b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates similarity between two descriptors.  <a href="#ga9da63352fdae796f1ab344741d5ce68b">More...</a><br /></td></tr>
<tr class="separator:ga9da63352fdae796f1ab344741d5ce68b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga447621af270fde6bf9592d653eff5f31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#ga447621af270fde6bf9592d653eff5f31">_addDescriptor</a> (short[] descriptor, string name)</td></tr>
<tr class="memdesc:ga447621af270fde6bf9592d653eff5f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds descriptor to the gallery.  <a href="#ga447621af270fde6bf9592d653eff5f31">More...</a><br /></td></tr>
<tr class="separator:ga447621af270fde6bf9592d653eff5f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9798170d2edda8ab57e70edff032e1a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#ga9798170d2edda8ab57e70edff032e1a8">_getDescriptorCount</a> ()</td></tr>
<tr class="memdesc:ga9798170d2edda8ab57e70edff032e1a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets number of descriptors in the gallery.  <a href="#ga9798170d2edda8ab57e70edff032e1a8">More...</a><br /></td></tr>
<tr class="separator:ga9798170d2edda8ab57e70edff032e1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10cc7ae326f452ebacb182c0cc88f935"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#ga10cc7ae326f452ebacb182c0cc88f935">_getDescriptorName</a> (int galleryIndex)</td></tr>
<tr class="memdesc:ga10cc7ae326f452ebacb182c0cc88f935"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of a descriptor at the given index in the gallery.  <a href="#ga10cc7ae326f452ebacb182c0cc88f935">More...</a><br /></td></tr>
<tr class="separator:ga10cc7ae326f452ebacb182c0cc88f935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87afc0e27dda3e2fbb42c2db0db5eb20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#ga87afc0e27dda3e2fbb42c2db0db5eb20">_replaceDescriptorName</a> (string name, int galleryIndex)</td></tr>
<tr class="memdesc:ga87afc0e27dda3e2fbb42c2db0db5eb20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces the name of a descriptor at the given index in the gallery with new name.  <a href="#ga87afc0e27dda3e2fbb42c2db0db5eb20">More...</a><br /></td></tr>
<tr class="separator:ga87afc0e27dda3e2fbb42c2db0db5eb20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7e1a55a9314b4a14863e7da24dee04d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#gad7e1a55a9314b4a14863e7da24dee04d">_removeDescriptor</a> (int galleryIndex)</td></tr>
<tr class="memdesc:gad7e1a55a9314b4a14863e7da24dee04d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a descriptor at the given index from the gallery.  <a href="#gad7e1a55a9314b4a14863e7da24dee04d">More...</a><br /></td></tr>
<tr class="separator:gad7e1a55a9314b4a14863e7da24dee04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6bb80865d4dced7f5323ac188ea038a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#gae6bb80865d4dced7f5323ac188ea038a">_saveGallery</a> (string fileName)</td></tr>
<tr class="memdesc:gae6bb80865d4dced7f5323ac188ea038a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save gallery as a binary file.  <a href="#gae6bb80865d4dced7f5323ac188ea038a">More...</a><br /></td></tr>
<tr class="separator:gae6bb80865d4dced7f5323ac188ea038a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9cf3bca0b551696de18c6138835aefc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#gaa9cf3bca0b551696de18c6138835aefc">_loadGallery</a> (string fileName)</td></tr>
<tr class="memdesc:gaa9cf3bca0b551696de18c6138835aefc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads gallery from a binary file.  <a href="#gaa9cf3bca0b551696de18c6138835aefc">More...</a><br /></td></tr>
<tr class="separator:gaa9cf3bca0b551696de18c6138835aefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7365052fb5a87d538c983c3b4361a5b"><td class="memItemLeft" align="right" valign="top"><a id="gae7365052fb5a87d538c983c3b4361a5b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#gae7365052fb5a87d538c983c3b4361a5b">_resetGallery</a> ()</td></tr>
<tr class="memdesc:gae7365052fb5a87d538c983c3b4361a5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all face descriptors from the gallery. <br /></td></tr>
<tr class="separator:gae7365052fb5a87d538c983c3b4361a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6185f5c517baec248286670386844cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VisageRecognitionUnityPlugin.html#gab6185f5c517baec248286670386844cb">_recognize</a> (short[] descriptor, int n, System.Text.StringBuilder[] names, int capacity, float[] similarities)</td></tr>
<tr class="memdesc:gab6185f5c517baec248286670386844cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare a face to all faces in the current gallery and return n names of the most similar faces.  <a href="#gab6185f5c517baec248286670386844cb">More...</a><br /></td></tr>
<tr class="separator:gab6185f5c517baec248286670386844cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides high-level functions for using visage|SDK face recognition capabilities in Unity game engine. </p>
<p>It implements high-level wrapper functions from visage|SDK that enable usage of visage|SDK face recognition capabilities in Unity C# scripts.</p>
<p>VisageFaceRecognition contains a face recognition algorithm capable of measuring similarity between human faces and recognizing a person's identity from frontal facial images (yaw angle approximately from -20 to 20 degrees).</p>
<p>Similarity between two faces is calculated as difference between their face descriptors and returned as a value between 0 (no similarity) and 1 (maximum similarity).</p>
<p>The face descriptor is a condensed representation of a face.It is an array of short values. The dimension of the array is obtained using getDescriptorSize() function, from now on in the text referred to as DESCRIPTOR_SIZE. For any two faces, the distance between descriptors is a measure of their similarity.</p>
<p>For the purpose of face recognition, faces are stored in a gallery.The gallery is an array of face descriptors, with a corresponding array of names, so that the gallery may contain n descriptors and a corresponding name for each descriptor. To perform recognition, the face descriptor extracted from the input image is then compared with face descriptors from the gallery and the similarity between the input face descriptor and all face descriptors from the gallery is calculated in order to find the face(s) from the gallery that are most similar to the input face. The VisageFaceRecognition class includes a full set of functions for manipulating the gallery, including adding, removing, naming descriptors in the gallery as well as loading and saving the gallery to file.</p>
<p>The functionality of VisageFaceRecognition is dependent on the VisageTracker and it is expected that prior to the call of VisageFaceRecognition's functions frame is processed with <a class="el" href="group__VisageTrackerUnityPlugin.html#ga5a27b9d24dcd26e104091440348d154a" title="Performs face tracking on current frame. ">_track()</a> function and the data thus obtained is prepared and forwarded to VisageFaceRecognition.</p>
<p>Before using VisageFaceRecognition, it must be initialized by calling the <a class="el" href="group__VisageRecognitionUnityPlugin.html#ga32dd0502a16f7451e333f44af31f194c" title="Initialises VisageFaceRecognition. ">_initRecognition()</a> function. Afterward, in each frame, the <a class="el" href="group__VisageRecognitionUnityPlugin.html#ga3faebf55f59995b0402e6f10e4fba686" title="Extracts the face descriptor for face recognition. ">_prepareDataForRecog()</a> function is called first and then all other VisageFaceRecognition's functions can be called otherwise they will return -1 as an indication that the necessary data is missing.</p>
<p>VisageFaceRecognition's functionality can be used in a separate thread. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga447621af270fde6bf9592d653eff5f31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga447621af270fde6bf9592d653eff5f31">&#9670;&nbsp;</a></span>_addDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _addDescriptor </td>
          <td>(</td>
          <td class="paramtype">short []&#160;</td>
          <td class="paramname"><em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds descriptor to the gallery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptor</td><td>Descriptor to be added to the gallery obtained by calling <a class="el" href="group__VisageRecognitionUnityPlugin.html#gacca71e8f649e67b88a5ae69b51fabf95" title="Extracts the face descriptor for face recognition. ">_extractDescriptor()</a>. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the descriptor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 or -1 on failure. </dd></dl>

</div>
</div>
<a id="ga9da63352fdae796f1ab344741d5ce68b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9da63352fdae796f1ab344741d5ce68b">&#9670;&nbsp;</a></span>_descriptorsSimilarity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float _descriptorsSimilarity </td>
          <td>(</td>
          <td class="paramtype">short []&#160;</td>
          <td class="paramname"><em>firstDescrtiptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short []&#160;</td>
          <td class="paramname"><em>secondDescriptor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates similarity between two descriptors. </p>
<p>The function returns a float value between 0 and 1. Two descriptors are equal if the similarity is 1. Two descriptors are completely different if the similarity is 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">firstDescrtiptor</td><td>An array of DESCRIPTOR_SIZE short values. </td></tr>
    <tr><td class="paramname">secondDescriptor</td><td>An array of DESCRIPTOR_SIZE short values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Float value between 0 and 1 on success, 1 means full similarity and 0 means full diversity or -1 on failure. </dd></dl>

</div>
</div>
<a id="gacca71e8f649e67b88a5ae69b51fabf95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacca71e8f649e67b88a5ae69b51fabf95">&#9670;&nbsp;</a></span>_extractDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _extractDescriptor </td>
          <td>(</td>
          <td class="paramtype">short []&#160;</td>
          <td class="paramname"><em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>faceIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts the face descriptor for face recognition. </p>
<p>Prior to using this function, it is necessary to process the video frame using <a class="el" href="group__VisageTrackerUnityPlugin.html#ga5a27b9d24dcd26e104091440348d154a" title="Performs face tracking on current frame. ">_track()</a> function and prepare obtained data with <a class="el" href="group__VisageRecognitionUnityPlugin.html#ga3faebf55f59995b0402e6f10e4fba686" title="Extracts the face descriptor for face recognition. ">_prepareDataForRecog()</a> function. In case of multiple trackers running faceIndex specifies tracker ID.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptor</td><td>DESCRIPTOR_SIZE-dimensional array that will be filled with the resulting face descriptor. </td></tr>
    <tr><td class="paramname">faceIndex</td><td>Value between 0 and MAX_FACES-1, used to access the data of a particular tracked face. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 or -1 on failure.</dd></dl>
<p>See also: FaceData, VisageTracker, VisageFeaturesDetector </p>

</div>
</div>
<a id="ga9798170d2edda8ab57e70edff032e1a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9798170d2edda8ab57e70edff032e1a8">&#9670;&nbsp;</a></span>_getDescriptorCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _getDescriptorCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets number of descriptors in the gallery. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of descriptors in the gallery. </dd></dl>

</div>
</div>
<a id="ga10cc7ae326f452ebacb182c0cc88f935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10cc7ae326f452ebacb182c0cc88f935">&#9670;&nbsp;</a></span>_getDescriptorName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string _getDescriptorName </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>galleryIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name of a descriptor at the given index in the gallery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">galleryIndex</td><td>Index of descriptor in the gallery. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Name on success, empty string on failure. </dd></dl>

</div>
</div>
<a id="gad5e3cc9463314ca0aa31abd6f41d5dfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5e3cc9463314ca0aa31abd6f41d5dfc">&#9670;&nbsp;</a></span>_getDescriptorSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _getDescriptorSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of descriptor. </p>
<dl class="section return"><dt>Returns</dt><dd>DESCRIPTOR_SIZE. </dd></dl>

</div>
</div>
<a id="ga32dd0502a16f7451e333f44af31f194c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga32dd0502a16f7451e333f44af31f194c">&#9670;&nbsp;</a></span>_initRecognition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _initRecognition </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>dataPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises VisageFaceRecognition. </p>
<p>If the VisageFaceRecognition is initialized successfully function returns true, otherwise it returns false.</p>
<p>Please note that in order for license to be registered, <a class="el" href="group__VisageTrackerUnityPlugin.html#ga3922faf5bcffa475f9ebedc3140fbd90" title="Initializes the license. ">_initializeLicense()</a> method has to be called before.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataPath</td><td>Relative path to the data file required for face recognition, including data file name. In the visage|SDK distribution, the file is: Samples/data/bdtsdata/NN/fr.bin. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false otherwise, </dd></dl>

</div>
</div>
<a id="gaa9cf3bca0b551696de18c6138835aefc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9cf3bca0b551696de18c6138835aefc">&#9670;&nbsp;</a></span>_loadGallery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _loadGallery </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads gallery from a binary file. </p>
<p>The entries from the loaded gallery are appended to the current gallery. If it is required to replace existing gallery with the loaded one, call <a class="el" href="group__VisageRecognitionUnityPlugin.html#gae7365052fb5a87d538c983c3b4361a5b" title="Clear all face descriptors from the gallery. ">_resetGallery()</a> first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>Name of the file (including path if needed) from which the gallery will be loaded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 or -1 on failure. The function fails if the file can not be opened. </dd></dl>

</div>
</div>
<a id="gab6185f5c517baec248286670386844cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6185f5c517baec248286670386844cb">&#9670;&nbsp;</a></span>_recognize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _recognize </td>
          <td>(</td>
          <td class="paramtype">short []&#160;</td>
          <td class="paramname"><em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">System.Text.StringBuilder []&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float []&#160;</td>
          <td class="paramname"><em>similarities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare a face to all faces in the current gallery and return n names of the most similar faces. </p>
<p>Names array is passed as StringBuilder array to the function. The following code is an example of how the StringBuilder array is created, passed to the function and used after it is filled with strings: </p><div class="fragment"><div class="line"><span class="comment">//maximum number of characters per name</span></div><div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> SB_CAPACITY = 50;</div><div class="line"></div><div class="line"><span class="comment">//prepare stringbuilder</span></div><div class="line"><a class="code" href="namespaceSystem.html">System</a>.Text.StringBuilder[] sbArray = <span class="keyword">new</span> <a class="code" href="namespaceSystem.html">System</a>.Text.StringBuilder[n];</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i)</div><div class="line">{</div><div class="line">   sbArray[i] = <span class="keyword">new</span> <a class="code" href="namespaceSystem.html">System</a>.Text.StringBuilder(SB_CAPACITY);</div><div class="line">}</div><div class="line"><span class="comment">//call of the _recognize function</span></div><div class="line"><span class="keywordtype">int</span> ret = <a class="code" href="group__VisageRecognitionUnityPlugin.html#gab6185f5c517baec248286670386844cb">_recognize</a>(descriptor, n, sbArray, SB_CAPACITY, similarities);</div><div class="line"></div><div class="line">List&lt;string&gt; names = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"></div><div class="line"><span class="comment">//fill list of strings</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i)</div><div class="line">{</div><div class="line">   names.Add(sbArray[i].ToString());</div><div class="line">}</div></div><!-- fragment --><p>The example can be found in the VisageTrackerNative.Windows.cs (_recognizeWrapper() function) file within the VisageTrackerUnityDemo project.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptor</td><td>Face descriptor of the face to be recognized (compared to the gallery). </td></tr>
    <tr><td class="paramname">n</td><td>Number of names and similarities to be returned. </td></tr>
    <tr><td class="paramname">names</td><td>List type of <a href="https://msdn.microsoft.com/en-us/library/system.text.stringbuilder(v=vs.110).aspx">StringBuilder</a> that will be filled with the names of n faces from the gallery that are most similar to the input image ascending by similarity. Maximum number of characters per name is set to 256, for larger name only first 256 characters will be returned. </td></tr>
    <tr><td class="paramname">capacity</td><td>Number representing the desired capacity of a particular name in a string of names. </td></tr>
    <tr><td class="paramname">similarities</td><td>Array that will be filled with the similarity values for the n most similar faces, corresponding to the names array. The values are sorted, with the largest similarity value first. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of compared faces. </dd></dl>

</div>
</div>
<a id="ga7fb7cd5e0cede3b7acca7b401b089f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fb7cd5e0cede3b7acca7b401b089f54">&#9670;&nbsp;</a></span>_releaseRecognition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _releaseRecognition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases memory allocated by the face recogntion in the <a class="el" href="group__VisageRecognitionUnityPlugin.html#ga32dd0502a16f7451e333f44af31f194c" title="Initialises VisageFaceRecognition. ">_initRecognition()</a> function. </p>
<p>This function is called after the recognition ceases to be used or before the reinitialization of the recognition. </p>

</div>
</div>
<a id="gad7e1a55a9314b4a14863e7da24dee04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7e1a55a9314b4a14863e7da24dee04d">&#9670;&nbsp;</a></span>_removeDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _removeDescriptor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>galleryIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a descriptor at the given index from the gallery. </p>
<p>The remaining descriptors in the gallery above the given index (if any) are shifted down in the gallery array by one place, filling the gap created by removing the descriptor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">galleryIndex</td><td>Index of descriptor in the gallery. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 or -1 on failure. The function may fail if index is out of range. </dd></dl>

</div>
</div>
<a id="ga87afc0e27dda3e2fbb42c2db0db5eb20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87afc0e27dda3e2fbb42c2db0db5eb20">&#9670;&nbsp;</a></span>_replaceDescriptorName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _replaceDescriptorName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>galleryIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replaces the name of a descriptor at the given index in the gallery with new name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>New descriptor name. </td></tr>
    <tr><td class="paramname">galleryIndex</td><td>Index of descriptor in the gallery. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 or -1 on failure. The function may fail if index is out of range. </dd></dl>

</div>
</div>
<a id="gae6bb80865d4dced7f5323ac188ea038a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6bb80865d4dced7f5323ac188ea038a">&#9670;&nbsp;</a></span>_saveGallery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _saveGallery </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save gallery as a binary file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>Name of the file (including path if needed) into which the gallery will be saved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 or -1 on failure. The function fails if the file can not be opened. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 14 2019 14:47:49 for VisageTrackerUnityPlugin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
